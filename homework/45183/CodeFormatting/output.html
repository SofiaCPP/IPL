<html>

<head>
	<style>
		div {
			white-space: pre-wrap;
		}

		body {
			background-color: #1e1e1e;
			font-size: 18px;
			font-family: 'Consolas';
		}

		.identifier {
			color: #e2c071;
		}

		.single-keyword {
			color: #b9b8b9;
		}

		.keyword1 {
 			color: #bd6fd6;
		}

		.keyword2 {
 			color: #5faee8;
		}

		.number {
			color: #dd7076;
		}

		.string {
			color: #8daf56;
		}

		.comment {
			color: #5d6371;
		}
	</style>
</head>

<body>
	<div id='text'></div>
	<script>
		document.getElementById('text').innerHTML = '<span class="keyword1">import</span> <span class="identifier">CoherentUtilities</span> <span class="identifier">from</span> <span class="string">\"../CoherentUtilities\"</span><span class="single-keyword">;</span>\n<span class="keyword1">import</span> <span class="identifier">Select</span> <span class="identifier">from</span> <span class="string">\"../components/Select/Select\"</span><span class="single-keyword">;</span>\n<span class="keyword1">import</span> <span class="single-keyword">{</span> <span class="identifier">SUPPORTED_UNIT_TYPES</span> <span class="single-keyword">}</span> <span class="identifier">from</span> <span class="string">\'./UnitTypes\'</span><span class="single-keyword">;</span>\n\n<span class="keyword1">const</span> <span class="identifier">DEFAULT_OPTION</span> <span class="keyword2">=</span> <span class="identifier">Object</span><span class="keyword1">.</span><span class="identifier">freeze</span><span class="single-keyword">(</span><span class="single-keyword">{</span>\n    <span class="identifier">value</span><span class="single-keyword">:</span> <span class="string">\'default\'</span><span class="single-keyword">,</span>\n    <span class="identifier">displayed</span><span class="single-keyword">:</span> <span class="string">\'Use default units\'</span>\n<span class="single-keyword">}</span><span class="single-keyword">)</span><span class="single-keyword">;</span>\n\n<span class="keyword1">const</span> <span class="identifier">SUPPORTED_UNIT_TYPES_POSITIONS</span> <span class="keyword2">=</span> <span class="identifier">Object</span><span class="keyword1">.</span><span class="identifier">assign</span><span class="single-keyword">(</span><span class="single-keyword">[</span><span class="single-keyword">]</span><span class="single-keyword">,</span> <span class="identifier">SUPPORTED_UNIT_TYPES</span><span class="single-keyword">)</span><span class="single-keyword">;</span>\n<span class="identifier">SUPPORTED_UNIT_TYPES_POSITIONS</span><span class="keyword1">.</span><span class="identifier">push</span><span class="single-keyword">(</span><span class="identifier">DEFAULT_OPTION</span><span class="single-keyword">)</span><span class="single-keyword">;</span>\n<span class="identifier">Object</span><span class="keyword1">.</span><span class="identifier">freeze</span><span class="single-keyword">(</span><span class="identifier">SUPPORTED_UNIT_TYPES_POSITIONS</span><span class="single-keyword">)</span><span class="single-keyword">;</span>\n\n<span class="keyword1">const</span> <span class="identifier">SUPPORTED_UNITS_TYPE_FONT_SIZE</span> <span class="keyword2">=</span> <span class="identifier">Object</span><span class="keyword1">.</span><span class="identifier">assign</span><span class="single-keyword">(</span><span class="single-keyword">[</span><span class="single-keyword">]</span><span class="single-keyword">,</span> <span class="identifier">SUPPORTED_UNIT_TYPES_POSITIONS</span><span class="single-keyword">)</span><span class="single-keyword">;</span>\n<span class="keyword1">for</span> <span class="single-keyword">(</span><span class="keyword1">let</span> <span class="identifier">i</span> <span class="keyword2">=</span> <span class="number">0</span><span class="single-keyword">;</span> <span class="identifier">i</span> <span class="keyword2">&#60;</span> <span class="identifier">SUPPORTED_UNITS_TYPE_FONT_SIZE</span><span class="keyword1">.</span><span class="identifier">length</span><span class="single-keyword">;</span> <span class="keyword2">++</span><span class="identifier">i</span><span class="single-keyword">)</span> <span class="single-keyword">{</span>\n    <span class="keyword1">if</span> <span class="single-keyword">(</span><span class="identifier">SUPPORTED_UNITS_TYPE_FONT_SIZE</span><span class="single-keyword">[</span><span class="identifier">i</span><span class="single-keyword">]</span><span class="keyword1">.</span><span class="identifier">value</span> <span class="keyword2">===</span> <span class="string">\'percents\'</span><span class="single-keyword">)</span> <span class="single-keyword">{</span>\n        <span class="identifier">SUPPORTED_UNITS_TYPE_FONT_SIZE</span><span class="keyword1">.</span><span class="identifier">splice</span><span class="single-keyword">(</span><span class="identifier">i</span><span class="single-keyword">,</span> <span class="number">1</span><span class="single-keyword">)</span><span class="single-keyword">;</span>\n        <span class="keyword1">break</span><span class="single-keyword">;</span>\n    <span class="single-keyword">}</span>\n<span class="single-keyword">}</span>\n<span class="identifier">Object</span><span class="keyword1">.</span><span class="identifier">freeze</span><span class="single-keyword">(</span><span class="identifier">SUPPORTED_UNITS_TYPE_FONT_SIZE</span><span class="single-keyword">)</span><span class="single-keyword">;</span>\n\n<span class="keyword1">const</span> <span class="identifier">AUTO_OPTION</span> <span class="keyword2">=</span> <span class="identifier">Object</span><span class="keyword1">.</span><span class="identifier">freeze</span><span class="single-keyword">(</span><span class="single-keyword">{</span>\n    <span class="identifier">value</span><span class="single-keyword">:</span> <span class="string">\'auto\'</span><span class="single-keyword">,</span>\n    <span class="identifier">displayed</span><span class="single-keyword">:</span> <span class="string">\'auto\'</span>\n<span class="single-keyword">}</span><span class="single-keyword">)</span><span class="single-keyword">;</span>\n\n<span class="keyword1">const</span> <span class="identifier">SUPPORTED_UNITS_TYPE_DIMENSIONS</span> <span class="keyword2">=</span> <span class="identifier">Object</span><span class="keyword1">.</span><span class="identifier">assign</span><span class="single-keyword">(</span><span class="single-keyword">[</span><span class="single-keyword">]</span><span class="single-keyword">,</span> <span class="identifier">SUPPORTED_UNIT_TYPES</span><span class="single-keyword">)</span><span class="single-keyword">;</span>\n<span class="identifier">SUPPORTED_UNITS_TYPE_DIMENSIONS</span><span class="keyword1">.</span><span class="identifier">push</span><span class="single-keyword">(</span><span class="identifier">AUTO_OPTION</span><span class="single-keyword">)</span><span class="single-keyword">;</span>\n<span class="identifier">SUPPORTED_UNITS_TYPE_DIMENSIONS</span><span class="keyword1">.</span><span class="identifier">push</span><span class="single-keyword">(</span><span class="identifier">DEFAULT_OPTION</span><span class="single-keyword">)</span><span class="single-keyword">;</span>\n<span class="identifier">Object</span><span class="keyword1">.</span><span class="identifier">freeze</span><span class="single-keyword">(</span><span class="identifier">SUPPORTED_UNITS_TYPE_DIMENSIONS</span><span class="single-keyword">)</span><span class="single-keyword">;</span>\n\n<span class="keyword1">const</span> <span class="identifier">DEFAULT_UNIT_SELECTION_INDEX</span> <span class="keyword2">=</span> <span class="identifier">SUPPORTED_UNIT_TYPES_POSITIONS</span><span class="keyword1">.</span><span class="identifier">length</span> <span class="keyword2">-</span> <span class="number">1</span><span class="single-keyword">;</span>\n<span class="keyword1">const</span> <span class="identifier">DEFAULT_UNITS_SELECTION_VALUE</span> <span class="keyword2">=</span> <span class="identifier">SUPPORTED_UNIT_TYPES_POSITIONS</span><span class="single-keyword">[</span><span class="identifier">DEFAULT_UNIT_SELECTION_INDEX</span><span class="single-keyword">]</span><span class="keyword1">.</span><span class="identifier">value</span><span class="single-keyword">;</span>\n\n<span class="keyword1">const</span> <span class="identifier">UNITS_SELECT_CONFIGURATIONS</span> <span class="keyword2">=</span> <span class="identifier">Object</span><span class="keyword1">.</span><span class="identifier">freeze</span><span class="single-keyword">(</span><span class="single-keyword">{</span>\n    <span class="identifier">WIDTH</span><span class="single-keyword">:</span> <span class="identifier">Object</span><span class="keyword1">.</span><span class="identifier">freeze</span><span class="single-keyword">(</span><span class="single-keyword">{</span>\n        <span class="identifier">sSelector</span><span class="single-keyword">:</span> <span class="string">\'#widthUnits\'</span><span class="single-keyword">,</span>\n        <span class="identifier">aOptionObj</span><span class="single-keyword">:</span> <span class="identifier">SUPPORTED_UNITS_TYPE_DIMENSIONS</span><span class="single-keyword">,</span>\n        <span class="identifier">nSelected</span><span class="single-keyword">:</span> <span class="identifier">DEFAULT_UNIT_SELECTION_INDEX</span>\n    <span class="single-keyword">}</span><span class="single-keyword">)</span><span class="single-keyword">,</span>\n    <span class="identifier">HEIGHT</span><span class="single-keyword">:</span> <span class="identifier">Object</span><span class="keyword1">.</span><span class="identifier">freeze</span><span class="single-keyword">(</span><span class="single-keyword">{</span>\n        <span class="identifier">sSelector</span><span class="single-keyword">:</span> <span class="string">\'#heightUnits\'</span><span class="single-keyword">,</span>\n        <span class="identifier">aOptionObj</span><span class="single-keyword">:</span> <span class="identifier">SUPPORTED_UNITS_TYPE_DIMENSIONS</span><span class="single-keyword">,</span>\n        <span class="identifier">nSelected</span><span class="single-keyword">:</span> <span class="identifier">DEFAULT_UNIT_SELECTION_INDEX</span>\n    <span class="single-keyword">}</span><span class="single-keyword">)</span><span class="single-keyword">,</span>\n    <span class="identifier">TOP</span><span class="single-keyword">:</span> <span class="identifier">Object</span><span class="keyword1">.</span><span class="identifier">freeze</span><span class="single-keyword">(</span><span class="single-keyword">{</span>\n        <span class="identifier">sSelector</span><span class="single-keyword">:</span> <span class="string">\'#topUnits\'</span><span class="single-keyword">,</span>\n        <span class="identifier">aOptionObj</span><span class="single-keyword">:</span> <span class="identifier">SUPPORTED_UNIT_TYPES_POSITIONS</span><span class="single-keyword">,</span>\n        <span class="identifier">nSelected</span><span class="single-keyword">:</span> <span class="identifier">DEFAULT_UNIT_SELECTION_INDEX</span>\n    <span class="single-keyword">}</span><span class="single-keyword">)</span><span class="single-keyword">,</span>\n    <span class="identifier">LEFT</span><span class="single-keyword">:</span> <span class="identifier">Object</span><span class="keyword1">.</span><span class="identifier">freeze</span><span class="single-keyword">(</span><span class="single-keyword">{</span>\n        <span class="identifier">sSelector</span><span class="single-keyword">:</span> <span class="string">\'#leftUnits\'</span><span class="single-keyword">,</span>\n        <span class="identifier">aOptionObj</span><span class="single-keyword">:</span> <span class="identifier">SUPPORTED_UNIT_TYPES_POSITIONS</span><span class="single-keyword">,</span>\n        <span class="identifier">nSelected</span><span class="single-keyword">:</span> <span class="identifier">DEFAULT_UNIT_SELECTION_INDEX</span>\n    <span class="single-keyword">}</span><span class="single-keyword">)</span><span class="single-keyword">,</span>\n    <span class="identifier">FONTSIZE</span><span class="single-keyword">:</span> <span class="identifier">Object</span><span class="keyword1">.</span><span class="identifier">freeze</span><span class="single-keyword">(</span><span class="single-keyword">{</span>\n        <span class="identifier">sSelector</span><span class="single-keyword">:</span> <span class="string">\'#fontSizeUnits\'</span><span class="single-keyword">,</span>\n        <span class="identifier">aOptionObj</span><span class="single-keyword">:</span> <span class="identifier">SUPPORTED_UNITS_TYPE_FONT_SIZE</span><span class="single-keyword">,</span>\n        <span class="identifier">nSelected</span><span class="single-keyword">:</span> <span class="number">0</span>\n    <span class="single-keyword">}</span><span class="single-keyword">)</span>\n<span class="single-keyword">}</span><span class="single-keyword">)</span><span class="single-keyword">;</span>\n\n<span class="keyword1">export</span> <span class="keyword1">default</span> <span class="keyword1">class</span> <span class="identifier">UnitsTab</span> <span class="single-keyword">{</span>\n    <span class="identifier">constructor</span><span class="single-keyword">(</span><span class="single-keyword">)</span> <span class="single-keyword">{</span>\n        <span class="comment">/**\n         * @type {Object.&#60;string, Select&#62;}\n         */</span>\n        <span class="identifier">UnitsTab</span><span class="keyword1">.</span><span class="identifier">units</span> <span class="keyword2">=</span> <span class="single-keyword">{</span>\n            <span class="identifier">width</span><span class="single-keyword">:</span> <span class="keyword1">new</span> <span class="identifier">Select</span><span class="single-keyword">(</span><span class="identifier">UNITS_SELECT_CONFIGURATIONS</span><span class="keyword1">.</span><span class="identifier">WIDTH</span><span class="single-keyword">)</span><span class="single-keyword">,</span>\n            <span class="identifier">height</span><span class="single-keyword">:</span> <span class="keyword1">new</span> <span class="identifier">Select</span><span class="single-keyword">(</span><span class="identifier">UNITS_SELECT_CONFIGURATIONS</span><span class="keyword1">.</span><span class="identifier">HEIGHT</span><span class="single-keyword">)</span><span class="single-keyword">,</span>\n            <span class="identifier">top</span><span class="single-keyword">:</span> <span class="keyword1">new</span> <span class="identifier">Select</span><span class="single-keyword">(</span><span class="identifier">UNITS_SELECT_CONFIGURATIONS</span><span class="keyword1">.</span><span class="identifier">TOP</span><span class="single-keyword">)</span><span class="single-keyword">,</span>\n            <span class="identifier">left</span><span class="single-keyword">:</span> <span class="keyword1">new</span> <span class="identifier">Select</span><span class="single-keyword">(</span><span class="identifier">UNITS_SELECT_CONFIGURATIONS</span><span class="keyword1">.</span><span class="identifier">LEFT</span><span class="single-keyword">)</span><span class="single-keyword">,</span>\n            <span class="identifier">fontSize</span><span class="single-keyword">:</span> <span class="keyword1">new</span> <span class="identifier">Select</span><span class="single-keyword">(</span><span class="identifier">UNITS_SELECT_CONFIGURATIONS</span><span class="keyword1">.</span><span class="identifier">FONTSIZE</span><span class="single-keyword">)</span>\n        <span class="single-keyword">}</span>\n        <span class="identifier">UnitsTab</span><span class="keyword1">.</span><span class="identifier">addEventHandlers</span><span class="single-keyword">(</span><span class="single-keyword">)</span><span class="single-keyword">;</span>\n    <span class="single-keyword">}</span>\n\n    <span class="comment">/**\n     * Sets all values of the Unit Selects and writes the new values to the current selection.\n     *\n     * @param {Object} metadata - UnitsTab types for some item.\n     * @param {boolean} disable - Whether the units Select should be disabled.\n     */</span>\n    <span class="identifier">static</span> <span class="identifier">deserializeUnitsPrefs</span><span class="single-keyword">(</span><span class="identifier">metadata</span><span class="single-keyword">,</span> <span class="identifier">disable</span><span class="single-keyword">)</span> <span class="single-keyword">{</span>\n        <span class="keyword1">const</span> <span class="identifier">toWriteValues</span> <span class="keyword2">=</span> <span class="single-keyword">[</span><span class="single-keyword">]</span><span class="single-keyword">;</span>\n        <span class="keyword1">const</span> <span class="identifier">toWriteTypes</span> <span class="keyword2">=</span> <span class="single-keyword">[</span><span class="single-keyword">]</span><span class="single-keyword">;</span>\n\n        <span class="keyword1">for</span> <span class="single-keyword">(</span><span class="keyword1">let</span> <span class="identifier">unitsType</span> <span class="keyword1">in</span> <span class="identifier">UnitsTab</span><span class="keyword1">.</span><span class="identifier">units</span><span class="single-keyword">)</span> <span class="single-keyword">{</span>\n            <span class="keyword1">let</span> <span class="identifier">metaValue</span> <span class="keyword2">=</span> <span class="identifier">metadata</span><span class="keyword1">.</span><span class="identifier">units</span><span class="single-keyword">[</span><span class="identifier">unitsType</span><span class="single-keyword">]</span><span class="single-keyword">;</span>\n\n            <span class="comment">// Backwards compatability.</span>\n            <span class="keyword1">if</span> <span class="single-keyword">(</span><span class="identifier">metaValue</span> <span class="keyword2">===</span> <span class="string">\'\'</span> <span class="keyword2">||</span> <span class="identifier">metaValue</span> <span class="keyword2">===</span> <span class="number">0</span><span class="single-keyword">)</span> <span class="single-keyword">{</span>\n                <span class="identifier">metaValue</span> <span class="keyword2">=</span> <span class="identifier">DEFAULT_UNITS_SELECTION_VALUE</span><span class="single-keyword">;</span>\n            <span class="single-keyword">}</span>\n            <span class="keyword1">if</span> <span class="single-keyword">(</span><span class="identifier">metaValue</span> <span class="keyword2">===</span> <span class="string">\'px\'</span><span class="single-keyword">)</span> <span class="single-keyword">{</span>\n                <span class="identifier">metaValue</span> <span class="keyword2">=</span> <span class="string">\'pixels\'</span><span class="single-keyword">;</span>\n            <span class="single-keyword">}</span>\n\n            <span class="identifier">UnitsTab</span><span class="keyword1">.</span><span class="identifier">units</span><span class="single-keyword">[</span><span class="identifier">unitsType</span><span class="single-keyword">]</span><span class="keyword1">.</span><span class="identifier">setValue</span><span class="single-keyword">(</span><span class="identifier">metaValue</span><span class="single-keyword">,</span> <span class="number">0</span><span class="single-keyword">)</span><span class="single-keyword">;</span>\n            <span class="identifier">UnitsTab</span><span class="keyword1">.</span><span class="identifier">units</span><span class="single-keyword">[</span><span class="identifier">unitsType</span><span class="single-keyword">]</span><span class="keyword1">.</span><span class="identifier">setDisabled</span><span class="single-keyword">(</span><span class="identifier">disable</span><span class="single-keyword">)</span><span class="single-keyword">;</span>\n\n            <span class="identifier">toWriteValues</span><span class="keyword1">.</span><span class="identifier">push</span><span class="single-keyword">(</span><span class="identifier">metaValue</span><span class="single-keyword">)</span><span class="single-keyword">;</span>\n            <span class="identifier">toWriteTypes</span><span class="keyword1">.</span><span class="identifier">push</span><span class="single-keyword">(</span><span class="identifier">unitsType</span><span class="single-keyword">)</span><span class="single-keyword">;</span>\n        <span class="single-keyword">}</span>\n    <span class="single-keyword">}</span>\n\n    <span class="comment">/**\n     * Attaches a change event listener to each UnitsTab Select that writes\n     * the new units type to the current selection.\n     */</span>\n    <span class="identifier">static</span> <span class="identifier">addEventHandlers</span><span class="single-keyword">(</span><span class="single-keyword">)</span> <span class="single-keyword">{</span>\n        <span class="keyword1">for</span> <span class="single-keyword">(</span><span class="keyword1">let</span> <span class="identifier">unitsType</span> <span class="keyword1">in</span> <span class="identifier">UnitsTab</span><span class="keyword1">.</span><span class="identifier">units</span><span class="single-keyword">)</span> <span class="single-keyword">{</span>\n            <span class="identifier">UnitsTab</span><span class="keyword1">.</span><span class="identifier">units</span><span class="single-keyword">[</span><span class="identifier">unitsType</span><span class="single-keyword">]</span><span class="keyword1">.</span><span class="identifier">addEventListener</span><span class="single-keyword">(</span><span class="string">\'change\'</span><span class="single-keyword">,</span> <span class="identifier">event</span> <span class="keyword2">=</span><span class="keyword2">&#62;</span> <span class="single-keyword">{</span>\n                <span class="identifier">CoherentUtilities</span><span class="keyword1">.</span><span class="identifier">fl_changeDataProperty</span><span class="single-keyword">(</span>\n                    <span class="identifier">unitsType</span><span class="single-keyword">,</span>\n                    <span class="string">\"units\"</span><span class="single-keyword">,</span>\n                    <span class="identifier">event</span><span class="keyword1">.</span><span class="identifier">detail</span><span class="keyword1">.</span><span class="identifier">value</span><span class="single-keyword">)</span><span class="single-keyword">;</span>\n            <span class="single-keyword">}</span><span class="single-keyword">)</span><span class="single-keyword">;</span>\n        <span class="single-keyword">}</span>\n    <span class="single-keyword">}</span>\n<span class="single-keyword">}</span>\n';
	</script>
</body>

</html>